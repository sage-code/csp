<!DOCTYPE html>
<html lang="en" data-bs-theme="dark"><head>
  <meta charset="utf-8">
  <meta name="description" content="Introduction to functional programming in Scala.">
  <meta name="author" content="Elucian Moise">
  <meta name="keywords" content="sage, code, scala, syntax, function, method, functional, programming">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Website title -->
  <title>Scala Functions</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <!-- Icon -->
  <link rel="icon" type="image/png"  href="https://sagecode.net/images/favicon.ico">
  <!-- Prism Highlighter -->
  <link rel="stylesheet" href="../prism.css">
  <script src="../prism.js"></script>
  <!-- custom css -->
  <link rel="stylesheet" href="https://sagecode.net/sage.css">
  </head>
<body>

<div class="container">

<!-- header -->
<header class="row">
    <div class="col">
        <a href="https://sagecode.net"><img src="https://sagecode.net/images/sage-logo.svg" alt="Sage-Code Laboratory" height="80"/></a>
    </div>
    <div class="col  bottom-right">
        <a href="index.html#lang-index" rel="nofollow">index</a>&lt;--
    </div>
</header><hr>

<h1>Scala Functions</h1>

<div class="alert alert-secondary shadow-sm">
Idea of a function come from mathematics. It represents a formula that can be used to calculate output based on input. Most programming languages have functions. In Scala functions are expressions that can have parameters and can take arguments.
</div>

<div align="center">
  <img src="../images/function.jpg" alt="function" srcset="../images/function.svg"
       width="580" class="img-fluid protect rounded shadow border" >
  <p>Function Concept</p>
</div>

<h2>Anonymous Function</h2>

<p>The most simple function is a linear function that takes one parameter and return its value back as it is. f(x) = x. If the function also has no name, this is the most simple function:</p>

<pre><code class="language-scala">//syntax pattern
(x: Int) => x
</code></pre>

<p>Hold on I can find one function that takes no parameters and return a constant. But of course this kind of function is not very useful is it? In next example there is an anonymous function that require no arguments and return 42 every time is called.</p>

<pre><code class="language-scala">//constant function
() => 42
</code></pre>

<h2>Named Function</h2>

<p>In Scalla we can assign a function to a handler (identifier). The handler will represent the function and can be called using arguments enclosed in paranthesis after the handler. The handler is just an identifier for a value that is initialized with an expression like this:</p>

<h3>One Parameter</h3>

<pre><code class="language-scala">/* named function example */
val addOne = (x: Int) => x + 1
val y = addOne(1) // y == 2 (function is executed)

/* demonstrate how a function is a reference */
val func = addOne // create a second handler
val z = func(1)   // z == 2 (function is executed again)
</code></pre>

<h3>Multiple Parameters</h3>

<p>A function can have several parameters that are separated by comma.</p>

<pre><code class="language-scala">/* a function with 2 parameters */
val add = (x: Int, y: Int) => x + y
println(add(1, 2)) // 3
println(add(7, 3)) // 10
</code></pre>

<div class="alert alert-danger"><span style="color:red">Alert:&nbsp;</span>You do not need to specify if the parameters are: "var" or "val" becouse in Scala, function parameters are immutable. That means implicit "val" parameters. If you ever try to mutate a parameter you will end-up with an error.</div>

<h3>Default Values</h3>

<p>A function can have parameters with default values that are also optional.</p>

<pre><code class="language-scala">/* a function with 2 parameters */
val add = (x: Int, y: Int = 1) => x + y
println(add(1))    // Expected: 2
println(add(7, 3)) // Expected: 10
</code></pre>

<hr>

<h1>Scala Methods</h1>

<div class="alert alert-secondary shadow-sm">
Idea of a method come from OOP languages. It represents a sub-program or sub-routine that can be used to calculate output based on input just like functions. Scala is a hybrid language. It has both functions and methods. Methods always have names and are usually defined inside a class while functions can be anonymous and can be declared outside of any class.
</div>

<h4>Example 1:</h4>

<p>In next example we define a simple method with two parameters. Observe we use keyword "def" that is also used in Python. This method will return an Integer result type, that is declared using ":" after parameter list.</p>

<pre><code class="language-scala">//method with two parameters
def add(x: Int, y: Int): Int = x + y

//call method add two times
println(add(1, 2)) // 3
println(add(2, 2)) // 4
</code></pre>

<h4>Example 2:</h4>

<p>In next example we define a method that uses a block of code. Observe there is no "return" keyword used here. Scala has a <em>"return"</em> statement but is rarely used. The output of the method is equal to value of the last expression executed in the block.</p>

<pre><code class="language-scala">//method with two parameters
def square(input: Double): String = {
  val square = input * input
  square.toString // this will generate the result
}
println(getSquareString(2.5)) // "6.25"
</code></pre>

<h4>Example 3:</h4>

<p>In next example we define a method that uses two parameter lists. This I have never enchounter before in any other language. It is a feature that I have to investigate further.</p>

<pre><code class="language-scala">//method with two parameter lists
def addThenMultiply(x: Int, y: Int)(multiplier: Int): Int = (x + y) * multiplier
println(addThenMultiply(1, 2)(3)) // 9
</code></pre>

<h4>Example 4:</h4>

<p>In next example we define a method with no parameters. We don't use empty parameter list () at all. This is almost like a procedure that we know from other languages.</p>

<pre><code class="language-scala">//method without parameters
def name: String = System.getProperty("user.name")
println("Hello, " + name + "!")
</code></pre>

<h4>Example 5:</h4>

<p>A Scala method can have several results groupped in one as a tuple. You can unpack the results using also a tuple of identifiers. Each identifier capture one of the results, in corespondent order. </p>

<pre><code class="language-scala">/* a methods with 2 results */
def mudiv(x: Int):(Int, Double) = { return (x * 2, x / 2.0) }

//unpack multiple results in two variables
val (m, d) = mudiv(3)

//check results
println(s"m=$m d=$d") //m=6 d=1.5
</code></pre>

<hr>

<h1>Functional Programming</h1>

<div class="alert alert-secondary shadow-sm">
Functional programming (FP) is a style of programming that emphasizes writing applications using only pure functions and immutable values. This idea comes from algebra and mathematics. Functional programming is available in Scala but not exclusive. You can combine OOP and FP in your programs.
</div>

<h4>Features:</h4>

<p>Let's review some of the key features of functional programming paradigm.</p>

<ul>
<li>Pure functions</li>
<li>High order functions</li>
<li>No null values</li>
</ul>

<h2>Pure functions</h2>

<p>In functional programming there is this fundamental concept of <em>Pure Function</em>. That take one input as a parameter perform a computation and return a result. When input is the same, output is going to be the same for every call. To achieve this a function has restrictions:</p>

<ul>
<li>Pure function do not mutate any hidden state;</li>
<li>Pure function do not have input/output parameters;</li>
<li>It does not have any Input/Output operation with the external world;</li>
</ul>

<h4>Example:</h4>

<p>In next example we define a method with that is in fact a pure function. Observe, methods can also be pure.</p>

<pre><code class="language-scala">//demo for a pure method
def multiply(x: Int, y: Int): Int = x * y
</code></pre>

<div class="alert alert-warning">In real world applications, pure functions and impute functions are used together. In general pure functions are core functions and library functions while impute functions are wrappers for pure functions.</div>

<h2>High order functions</h2>

<p>In functional programming, a function that takes another function as an input parameter or return a function as its result is known as a Higher-Order Function (HOF).</p>

<p>In Scala like in any other functional programming language, functions are assigned to variables. That means you can set-up a method or a function that takes as argument other function. In fact, the function is code, stored in memory. It can not travel. What you pass arround is the reference to the function, so called function handler.</p>

<h4>Example:</h4>

<p>In this example, compute() will execute a call-back function called "func". This require two parameters and return one integer result. The compute() function also require two other integer arguments (a, b). Before we call compute() we define two <em>value functions</em> that are pure.</p>

<p>We define a main function that is <em>impure.</em> It will call the compute() function two times and print out the results. This demonstrate how to pass a function as an argument.</p>

<pre><code class="language-scala line-numbers">//HOF demo
object Main {
  //define high order function: compute()
  def compute(func: (Int, Int) => Int, a: Int, b: Int) :Int =  {
    func(a, b) //call-back the parameter as a function
  }

  //define several values as functions
  val mtp  = (x:Int, y:Int) => x * y
  val add  = (x:Int, y:Int) => x + y
  val div  = (x:Int, y:Int) => x / y

  //define main function to execute demo
  def main(args: Array[String]): Unit = {
    val r1 = compute(add, 3, 3) // use add() function
    val r2 = compute(mtp, 3, 3) // use mtp() function
    println(r1) // expected: 6
    println(r2) // expected: 9

    val r3 = compute(div , 4, 3) // &lt;- change this line for homework
    println(r3) // expected error,  got: 1
  }
}
</code></pre>

<p><b>Homework:</b> Open this example on-line, run it then change parameters in line 20 into: compute(div , 4, 0), then run it again to force division by zero. Just observe Scala friking out. We will learn later how to deal with errors.
<a href="https://repl.it/@elucian/scala-hof#main.scala"
target="_blank" rel="noopener noreferrer nofollow">click here to open</a></p>

<h2>No null Values</h2>

<p>In theory, functional programming should be like writing a series of algebraic equations, and because you don’t use null values in algebra, you don’t use null values in functional programming. We think using Null in programming is <em>one million dollar mistake</em></p>

<p>In mathematics we use zero = 0 and there is no concept of "null" other then this. Actually null comes from Latin word <em>nulla</em> that means <em>none</em> while zero comes from Arabic word <em>sifr</em> that means <em>nothing</em> or <em>empty</em> that is the same thing isn't it?</p>

<p>But the situation is not simple. Scala can call Java classes and it also must run with JVM so it has to deal with null values. It does in a very sofisticated manner you are not yet equipped to handle. We must postpone this topic until you learn about classes, errors and control flow statements.</p>

<hr>
<p><b>Read next:</b>
<a href="classes.html">Classes</a></p>


<!-- Footer -->
<footer class="footer">
  <div class="footer-copyright text-center"></div>
</footer>
</div>
</body>
</html>