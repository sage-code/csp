<!DOCTYPE html>
<html lang="en" data-bs-theme="dark"><head>
  <meta charset="utf-8">
  <meta name="description" content="Introduction to Ruby classes and objects.">
  <meta name="author" content="Elucian Moise">
  <meta name="keywords" content="ruby, language, syntax, classes, objects, oop, object oriented">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Website title -->
  <title>Ruby Classes</title>  

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <!-- Icon -->
  <link rel="icon" type="image/png"  href="https://sagecode.net/images/favicon.ico">  
  <!-- Prism Highlighter -->
  <link rel="stylesheet" href="https://sagecode.net/prism.css">
  <script src="https://sagecode.net/prism.js"></script>
  <!-- custom css -->
  <link rel="stylesheet" href="https://sagecode.net/sage.css">
  </head>
<body>

<div class="container">
        
<!-- header -->
<header class="row">
    <div class="col">
        <a href="https://sagecode.net"><img src="https://sagecode.net/images/sage-logo.svg" alt="Sage-Code Laboratory" height="80"/></a>
    </div>  
    <div class="col  bottom-right">
        <a href="index.html#ruby-index" rel="nofollow">index</a>&lt;--
    </div>
</header><hr>

<h2>Ruby Classes</h2>

<div class="alert alert-secondary shadow-sm">
Ruby is a pure Object Oriented language. That means everything is an object. Even the literals are objects. You can use dot notation with literals to call methods or properties of literals: For example&nbsp;<code>42.to_s == "42"</code>. If it looks weird to you it's OK, because it is weard!
</div>

<h2>Object Oriented</h2>
<p>In HTML document, you can define a "class" for each element. This will help you create style in CSS that apply to multiple elements having the same "class". This approach is very similar to object oriented programming.</p>
<p>The concept of a "class" represents a "category" of objects. We can describe an object with features and behavior, but the description is not the object itself. We can have multiple objects having the same description.</p>
<p>In Object Oriented programming, the description of object is called "class". The object that comply with this description is called "class instance". We can have many instances for a class. Each instance can be a bit different.</p>
<p>For example a "vase" has volume 1 liter, handle and color green while other "vase" can have 2 liters, no handle and color purple. Both objects are "vases", but they have different attributes. In computer science a class can have "properties" while and object can have "attributes".</p>

<p><b>OOP principles</b></p>

<p>Object Oriented programming has four main principles, called the pillars of OOP programming:</p>
<ol>
<li><em><b>Abstraction:</b></em>&nbsp;you can define abstract classes and interfaces,</li>
<li><em><b>Encapsulation:</b></em>&nbsp;you can define public and private properties and methods,</li>
<li><em><b>Inheritance:</b></em>&nbsp;one class can inherit properties and methods from a parent class,</li>
<li><em><b>Polymorphism:</b></em>&nbsp;one method in a parent class can be overwritten in a child class.</li>
</ol>
<h2>Class Syntax</h2>
<p>In Ruby a class can be derived from another class. All classes have a single root class named: BasicObject. When you define a class you can specify the base class using symbol "&lt;", this is very close to the mathematics symbol "&lt;:" that represents a "sub-type".</p>
<h4>Example:</h4>
<pre><code class="language-ruby line-numbers"># define a simple class with constructor

class Dog &lt; Object
    def initialize(name)
        @name = name # attribute declaration
    end
    def bark # method
        puts "ham ham"
    end
    def breed=(breed)  # attribute writer
        @breed = breed
    end
    def breed  # attribute reader
        @breed 
    end
end

# first instance of Dog
dog1 = Dog.new("rex")
dog1.breed = "buldog"
dog1.bark

# second instance of Dog
dog2 = Dog.new("bear")
dog2.breed = "labrador"
dog2.bark

# use reader
puts dog1.breed
puts dog2.breed
</code></pre>
<p><b>Notes:</b>&nbsp;</p>
<ul>
<li>Super-class specification after class name: &lt; Object is optional,</li>
<li>Constructor method has special name&nbsp;<em>initialize</em>,</li>
<li>Instance properties @name and @breed are private,</li>
<li>Instance attributes can be accessed using a reader/writer method,</li>
<li>Method reader has same name as one of the attributes,</li>
<li>Method writer has same name as attribute follow by "=" suffix,</li>
</ul>
<p><b>Observation:</b>&nbsp;In other languages, instance variables (attributes) can be directly visible using dot notation. But in Ruby, instance variables can only be read or write using access functions: readers and writers. In other languages these two are known as "get" and "set" methods. If you are an idiot like me you will have hard time understanding this.</p>
<p class="alert alert-danger">Warning: If you try to read an attribute by name using dot notation you will get an error. Ruby will try to find a method, with name equal to attribute name. If the method do not exist (you do not have a reader) then you get an error message.&nbsp;</p>
<p><b>Homework:&nbsp;</b>Open this example live and run it:&nbsp;<a href="https://repl.it/@elucian/ruby-create-class">create class</a></p>

<h2>Using Ruby Blocks</h2>

<p>A cool pattern you can use with ruby blocks is to initialize an object with default values.
This method enable you to create dynamic constructors that initialize the object after creation.
</p>

The way it works is, you have an initializer that calls yield(self). In the context of the initialize method, self is the object being initialized.

<pre><code class="language-ruby line-numbers"># define a class that require initializer block
class Car
  attr_accessor :color, :doors

  def initialize
    yield(self)
  end
end

# call class constructor with a muly-line block argument
car = Car.new do |c|
  c.color = "Red"
  c.doors = 4
end

puts "My car's color is #{car.color} and it's got #{car.doors} doors."
</code></pre>

<p><b>Output:</b></p>

<pre><code class="language-output">My car's color is Red and it's got 4 doors.</code></pre>

<hr>

<p><b>Read next:</b>
<a href="https://frameworks.html">Frameworks</a></p>

<!-- Footer -->
<footer class="footer">
  <div class="footer-copyright text-center"></div>
</footer>

</div>
</body>
</html>