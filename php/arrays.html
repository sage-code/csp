<!DOCTYPE html>
<html lang="en" data-bs-theme="dark"><head>
  <meta charset="utf-8">
  <meta name="description" content="Know how to create and use Arrays in PHP.">
  <meta name="author" content="Elucian Moise">
  <meta name="keywords" content="php, array, tutorial">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Website title -->
  <title>PHP Arrays</title>  

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <!-- Icon -->
  <link rel="icon" type="image/png"  href="https://sagecode.net/images/favicon.ico">  
  <!-- Prism Highlighter -->
  <link rel="stylesheet" href="https://sagecode.net/prism.css">
  <script src="https://sagecode.net/prism.js"></script>
  <!-- custom css -->
  <link rel="stylesheet" href="https://sagecode.net/sage.css">
  </head>
<body>

<div class="container">
        
<!-- header -->
<header class="row">
    <div class="col">
        <a href="https://sagecode.net"><img src="https://sagecode.net/images/sage-logo.svg" alt="Sage-Code Laboratory" height="80"/></a>
    </div>  
    <div class="col  bottom-right">
        <a href="index.html#php-index" rel="nofollow">index</a>&lt;--
    </div>
</header><hr>

<h1>PHP Arrays</h1>

<div class="alert alert-secondary shadow-sm">
An array is a composite type. Elements of an array are ordered by a key, and can be accessed individually using a key or index enclosed in square brackets like: array[key] or array[x].</div>

<h2>Implementation</h2>
<p>An&nbsp;array in PHP is actually an ordered map. This a set of (key : value) pairs. By default the key is unsigned integer but it can be also a string. Then you can access one value by key using notation: array[key]. An array can be used as a vector, hash table, dictionary, collection, stack or queue.</p>

<h2>Array constructor</h2>
<p>An array is created using constructor array() or it can be created using a literal constant that looks like a square bracket list of elements separated by comma []. Elements can be of same type or mixed: strings, numbers or objects.&nbsp;</p>

<h4>Example:</h4>
<pre><code class="language-php line-numbers">&lt;?php
// using constructor
$a = array("dog", "cat", "rat");
var_dump($a);
echo "&lt;br&gt;";
// alternative notation
$b = ["dog", "cat", "rat"];
var_dump($b);
?&gt;</code></pre>

<p><b>Note: </b>The second notation is available since PHP 5.4 </p>

<p><b>Output:</b></p>

<pre><code class="language-output">
array(3) { [0]=&gt; string(3) "dog" [1]=&gt; string(3) "cat" [2]=&gt; string(3) "rat" }
array(3) { [0]=&gt; string(3) "dog" [1]=&gt; string(3) "cat" [2]=&gt; string(3) "rat" }
</code></pre>

<h2>Associative array</h2>
<p>If the array is a key-value map the pair is created using symbol "=&gt;" like: "key" =&gt; "value".</p>

<h4>Example:</h4>
<pre><code class="language-php line-numbers">&lt;?php
// hash map constructor
$a = array(
"pluto" =&gt; "dog",
"tom" =&gt; "cat",
"jerry" =&gt; "rat");
var_dump($a);
?&gt;</code></pre>

<p><b>Output:</b></p>
<pre><code class="language-output">array(3) { ["pluto"]=&gt; string(3) "dog" ["tom"]=&gt; string(3) "cat" ["jerry"]=&gt; string(3) "rat" }</code></pre>

<h2>Array traversal</h2>
<p>Array traversal is a technique to read an array element by element in sequential order. For simple array indexed by integer you can use a normal "for" loop with a control variable of type integer. For a map you can use a specialized loop: "foreach".&nbsp;</p>
<h4>Example 1:</h4>
<p>Iteration for a simple vector:</p>
<pre><code class="language-php line-numbers">&lt;?php
$a = [2,4,6,8,10]; // array literal
$c = count($a); // number of elements
// access by index
for ($i = 0; $i &lt; $c; $i++) {
    echo $a[$i], ",";
}
echo "&lt;br&gt;";
//sequential access
foreach ($a as $e) {
    echo $e, ",";
}
?&gt;</code></pre>
<p><b>Note:</b> Sequential access is a control flow statement that can be used for an "iterable" object. In our case the "object" is a simple array. The advantage of this method of traversal become obvious for hash maps.</p>
<h4>Example 2:</h4>
<p>Iteration for a hash map (associative array):</p>
<pre><code class="language-php line-numbers">&lt;?php
// hash map constructor
$cars = ["Toyota" =&gt; "red"
        ,"Chevrolet" =&gt; "green"
        ,"Volvo" =&gt; "silver"
        ];
//sequential access
foreach ($cars as $make =&gt; $color) {
    echo "$make =&gt; $color","&lt;br&gt;";
}
?&gt;</code></pre>
<p><b>Note:</b> This array traversal is read only. However it is possible to modify values into a hash map using reference notation for values. That will be &amp;$color instead of $color.</p>
<p><b>Example 3:</b></p>
<p>Alter value in hash map using sequential access.</p>
<pre><code class="language-php line-numbers">&lt;?php
// hash map constructor
$test = ["a" =&gt; 0
        ,"b" =&gt; 0
        ,"c" =&gt; 0
        ];
//sequential acess
$v = 2;
foreach ($test as $key =&gt; &amp;$value) {
    $value = $v;//alter each value
    $v += 2; //prepare next value
}
// hash map is modified:
var_dump($test);
?&gt;</code></pre>

<p><b>Output:</b></p>

<pre><code class="language-output">array(3) { ["a"]=&gt; int(2) ["b"]=&gt; int(4) ["c"]=&gt; int(6) }</code></pre>

<h2>Optional index</h2>

<p>Some languages count array indexes starting from 0, some are starting from 1. This is default in PHP. Sometimes you can chose to start with a different value. PHP enable optional start value using an intuitive syntax:</p>

<h4>Example:</h4>
<pre><code class="language-php line-numbers">&lt;?php
$firstquarter = array(1 =&gt; 'January', 'February', 'March');
print_r($firstquarter);
?&gt;</code></pre>

<p><b>Output:</b></p>
<pre><code class="language-output">Array ( [1] =&gt; January [2] =&gt; February [3] =&gt; March )</code></pre>

<h2>Array copy/borrow</h2>
<p>You can copy an array using "=". You can also transfer array reference using symbol "&amp;".</p>

<h4>Example:</h4>

<pre><code class="language-php line-numbers">&lt;?php
$a1 = array(1, 2, 3);
//assign array copy
$a2 = $a1;
$a2[0] = 8; // change first element,
echo "a2=";print_r($a2); echo "&lt;br&gt;";
echo "a1=";print_r($a1); echo "&lt;br&gt;"; //unchanged
echo "&lt;br&gt;";
//assign array reference
$a3 = &amp;$a1;
$a3[0] = 5; // change first element,
echo "a3=";print_r($a3); echo "&lt;br&gt;";
echo "a1=";print_r($a1); echo "&lt;br&gt;"; //changed
?&gt;</code></pre>
<p><b>Notes:</b> Using array reference to transfer large arrays is faster. Therefore is a good practice to transfer array by reference when you call a function, to avoid large data movements and make your program more efficient. However, if you modify an array reference, the original array will also be modified.</p>
<h2>Append elements</h2>
<p>You can append new elements using assign operator "=" and empty square brackets: [] or use key that do not exist. If the key exist, element is update. If is a new key, a new element will be created.</p>
<pre><code class="language-php line-numbers">&lt;?php
/* create simpel vector */
$a1 = array(); //declare empty array
$a1[] = 3; //new element
$a1[] = 7; //new element
echo "a1=";print_r($a1); echo "&lt;br&gt;";
/* create associative array */
$a2 = []; //declare empty array
$a2["a"] = 5; //new element
$a2["b"] = 8; //new element
echo "a2=";print_r($a2); echo "&lt;br&gt;";
?&gt;</code></pre>

<p><b>Output:</b></p>
<pre><code class="language-output">
a1=Array ( [0] =&gt; 3 [1] =&gt; 7 )&nbsp;
a2=Array ( [a] =&gt; 5 [b] =&gt; 8 )&nbsp;
</code></pre>

<h2>Remove &amp; Re-index</h2>
<p>You can remove elements from array using function: unset(). After this the element no longer exist but gaps in the index may be present. You can use function array_values() to remove index gaps.</p>

<h4>Example:</h4>
<pre><code class="language-php line-numbers">&lt;?php
/* create simpel vector */
$a = [1,2,3,4,5]; //declare empty array
echo "before:";print_r($a); echo "&lt;br&gt;";
/* remove 2 elements */
unset($a[1]);
unset($a[3]);
echo "after:";print_r($a); echo "&lt;br&gt;";
/* reindex array */
$a = array_values($a);
echo "reorder:";print_r($a); echo "&lt;br&gt;";
?&gt;</code></pre>

<h2>Multidimensional Array</h2>
<p>A multidimensional array is possible in PHP. In next example you will learn how to create a html table using what you have learned so far. Observe you can include tags in your "echo" statements to produce valid HTML code.</p>

<h4>Example:</h4>
<pre><code class="language-php line-numbers">&lt;?php
/* define a matrix with 3x3 = 9 elements */
$m = array(
    array(0,1,2)
   ,array(3,4,5)
   ,array(6,7,8)
);
/* modify diagonal elements */
$m[0][0] = 1;
$m[1][1] = 1;
$m[2][2] = 1;
/* making a table with bordr */
echo '&lt;table style="border: solid;"&gt;';
foreach ($m as $row) {
    echo "&lt;tr&gt;";
    foreach ($row as $elm) {
        echo '&lt;td width="14px", height="14px" style="border: 1px solid"&gt;';
        echo $elm;
        echo "&lt;/td&gt;";
    }
    echo "&lt;/tr&gt;";
}
echo "&lt;/table&gt;";
?&gt;</code></pre>

<p><b>Note: </b>The matrix access is similar to array access, except you use two square brackets [x][y], not one as you may do in other languages: [x, y] will not work, but if you do you get an error and you can fix it!</p>

<h2>Useful functions</h2>

<p>Two more functions are very useful for working with arrays:</p>
<ul>
<li>sort() : reorder array elements</li>
<li>count() : count the numbers of elements in an array</li>
</ul>

<h4>Example:</h4>
<pre><code class="language-php line-numbers">&lt;?php
/* define a matrix with 3x3 = 9 elements */
$a = [3, 8, 12, 7, 1];
sort($a); //reorder values
print_r($a); //array is modified
?&gt;</code></pre>

<p><b>Output:</b></p>
<pre><code class="language-output">Array ( [0] =&gt; 1 [1] =&gt; 3 [2] =&gt; 7 [3] =&gt; 8 [4] =&gt; 12 )</code></pre>

<h2>String Interpolation</h2>

<p>By now you should know what is this. It is a method to include a variable into a string without using concatenation operator ".". Here it is a very curious behavior of PHP: It does support string interpolation for arrays, but if the array is using strings as keys you must notice you must not use quotes for the [key]:</p>
<h4>Example:</h4>

<pre><code class="language-php line-numbers">&lt;?php
// hash map constructor
$cars = ["Toyota" =&gt; "red"
        ,"Chevrolet" =&gt; "green"
        ,"Volvo" =&gt; "silver"
        ];
// string concatenation
echo "Toyota is ". $cars["Toyota"], "&lt;br&gt;";
// string interpolation
echo "Chevrolet is $cars[Chevrolet]", "&lt;br&gt;";
?&gt;</code></pre>

<p><b>Note:</b> There are other tricks about interpolation but you need to learn first about classes and objects. So if you are not tired, please read the next chapter. I will post more examples about interpolation later.</p>

<hr>

<p><b>Read next:</b>
<a href="classes.html">Classes &amp; Objects</a></p>

<!-- Footer -->
<footer class="footer">
  <div class="footer-copyright text-center"></div>
</footer>


</div>


</body>
</html>