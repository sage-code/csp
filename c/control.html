<!DOCTYPE html>
<html lang="en" data-bs-theme="dark"><head>
  <meta charset="utf-8">
  <meta name="description" content="Control flow in C explained.">
  <meta name="author" content="Elucian Moise">
  <meta name="keywords" content="clang, decision, repetition, selection, if, else, for, while, do, break, continue">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Website title -->
  <title>C Control Flow</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <!-- Icon -->
  <link rel="icon" type="image/png"  href="https://sagecode.net/images/favicon.ico">
  <!-- Prism Highlighter -->
  <link rel="stylesheet" href="https://sagecode.net/prism.css">
  <script src="https://sagecode.net/prism.js"></script>
  <!-- custom css -->
  <link rel="stylesheet" href="https://sagecode.net/sage.css">
  </head>
<body>

<div class="container">

<!-- header -->
<header class="row">
    <div class="col">
        <a href="https://sagecode.net"><img src="https://sagecode.net/images/sage-logo.svg" alt="Sage-Code Laboratory" height="80"/></a>
    </div>
    <div class="col  bottom-right">
        <a href="index.html#c-lang" rel="nofollow">index</a>&lt;--
    </div>
</header><hr>

<h2>Decision Statement</h2>

<div class="alert alert-secondary shadow-sm">
Decision statement is the first <em>flow control</em> statement we learn in C. This is very simple but also powerful. It is used to enable or disable execution of next statement depending upon a specific condition. A condition is a <em>logical expression</em>that we will explain next.
</div>


<h3>Decision Fork</h3>

<p>In the diagram below we show the logical work-flow for decision statement. This is based on keyword "if" and it has two branches. One is the "true branch" and the other is the "false branch". It is like two branches of a river. It split the code into two blocks. After the decision is made, program will continue.</p>


<div align="center">
  <img src="../images/decision.jpg" alt="decision" srcset="../images/decision.svg" width="520" class="img-fluid protect rounded shadow border" >
  <p>Decision Diagram</p>
</div>

<hr>

<p><b>Syntax description:</b></p>

<pre><code class="language-c line-numbers">//brackets are optional

// single statement
if (condition) print("test");

// single block
if (condition) {
  //positive branch
  ...
}

//two branches
if (condition) {
  //positive branch
  ...
}
else {
  //negative branch
  ...
}
</code></pre>

<h4>Example:</h4>

<p>In the next example we use "if" keyword two times. First time will create a "branch" that print "this is expected". This branch is executed since x = 0. Second time we create a branch that will never execute since is not &gt; 0. So the string "this is unexpected" will never be printed:</p>

<pre><code class="language-c line-numbers">#include &lt;stdio.h&gt;
int main()
{
    int x = 0;
    //positive test
    if (x == 0)
    {
        printf("this is expected");
    }
    //negative test
    if (x &gt; 0)
    {
        printf("this is unexpected");
    }
    return 0;
}</code></pre>


<h3>Nested Statements</h3>

<p>Block statements can be nested. That means inside of a block statement you can create another block statement.
We advice developers to reduce the number of nested levels as much as possible.</p>

<h4>Example:</h4>

<pre><code class="language-c line-numbers">#include &lt;stdio.h&gt;
int main()
{
    int number1, number2;
    printf("Enter two integers: ");
    scanf("%d %d", &amp;number1, &amp;number2);
    if (number1 &gt;= number2) {
        if (number1 == number2) {
        printf("Result: %d = %d",number1,number2);
      }
      else {
        printf("Result: %d &gt; %d", number1, number2);
      }
    }
    else {
        printf("Result: %d &lt; %d",number1, number2);
    }
    return 0;
}</code></pre>


<h3>Decision Ladder</h3>

<p>You can create more than two branches using "else if" keywords. This construct is called <em>ladder</em>. Also known as <em>decision chain</em> is depicted in next diagram that looks like a stair or like a ladder:</p>

<div align="center">
  <img src="../images/ladder.jpg" alt="decision" srcset="../images/ladder.svg" width="640" class="img-fluid protect rounded shadow border" >
  <p>Ladder Diagram</p>
</div>

<h4>Syntax description:</h4>

<pre><code class="language-c line-numbers">//brackets are optional
if (condition) {
  //positive branch
  ...
}
else if (condition) {
  //alternative branch
  ...
}
else if (condition) {
  //second alternative
  ...
} else
{
  //default negative
  ...
}</code></pre>


<h2>Selection Statement</h2>

<div class="alert alert-secondary shadow-sm">Selection statement "switch" is a multi-path decision statement based on a variable that can have a specific value. For each value you create a single path to follow. This statement is translated by the compiler into a jump table.</div>

<div align="center">
  <img src="../images/switch.jpg" alt="switch" srcset="../images/switch.svg" width="300"
  width="420" class="img-fluid protect rounded shadow border" >
  <p>Switch Diagram</p>
</div>

<hr>

<h4>Syntax Pattern</h4>

<pre><code class="language-c line-numbers">switch(variable)
{
case value_1:
   //statement for case 1
break;
...
case value_n:
   //statement for case n
break;

default:
   //statement for other values
break;
}</code></pre>

<h4>Notes:</h4>
<ul>
<li>switch is a block statement;</li>
<li>the&nbsp;<em>break</em>&nbsp;is optional statement,</li>
<li>statements for each branch do not need brackets: {&hellip;}</li>
</ul>

<h4>Rules and restrictions</h4>

<ul>
<li>The expression used in a switch statement must have a discrete type,&nbsp;</li>
<li>You can have any number of cases within a switch,</li>
<li>The&nbsp;value for each case must be the same data type as the variable in the switch,&nbsp;</li>
<li>When a&nbsp;break statement is reached, the switch terminates,</li>
<li>Default section is optional, and is executed if a break is not reached.</li>
</ul>
<h4>Example:</h4>
<pre><code class="language-c line-numbers">#include &lt;stdio.h&gt;

int main () {
   char result = 'B';
   printf("enter your result:");
   scanf("%c",&amp;result);
   switch(result) {
      case 'A' :
         printf("Congratulation, you passed!\n" );
         break;
      case 'B' :
      case 'C' :
      case 'D' :
         printf("You have passed\n" );
         break;
      case 'F' :
         printf("Sorry, you have failed\n" );
         break;
      default :
         printf("Invalid result\n" );
   }
   return 0;
}</code></pre>
<p><b>Note:&nbsp;</b>&nbsp;Now you know switch statement. This statement is not available in Python but is present in many other languages similar to C language: Java, Swift, Go. In all these languages switch is very similar.</p>

<h4>Switch Usability:</h4>

<p>Switch is useful to create a menu. You can have options 1..9. When user press one of the option a particular branch of program is executed. This can be simulated using "if" statement but is not so readable.</p>
<p>The options can be also char. In this case you can have 25 options, one for each letter of he alphabet. If you use capital letters and numbers you can create a menu with maximum 70 options. This is not always readable. You can improve readability by using an enumeration type.</p>

<h4>Enumeration</h4>

<p>The enumeration type can be used to create a new data type representing menu options with a name for each option. This type is a discrete type so it can be used in switch statement to create one path for each element of enumeration.</p>
<h4>Example:</h4>
<pre><code class="language-c line-numbers">#include &lt;stdio.h&gt;
enum option {Up, Down, Left, Right};

int main()
{
   int i;
   menu: //this is a label
   printf("0 = Up\n");
   printf("1 = Down\n");
   printf("2 = Left\n");
   printf("3 = Right\n");
   printf("select:");
   //read menu option
   scanf("%d",&amp;i);
   printf("\n");
   switch (i) {
      case Up:    printf("up"); break;
      case Down:  printf("\n"); break;
      case Left:  printf("0 = Up\n"); break;
      case Right: printf("0 = Up\n"); break;
      default:
         printf("Invalid entry, try again\n");
         goto menu; //find label and repeat
      break;
   }
   return 0;
} </code></pre>

<h2>GoTo Statement</h2>

<p>In the previous example we have used goto statement. This is also know as unconditional jump statement. It is advisable to avoid this statement in C programs and use loops instead of jumps to avoid spaghetti code, considered unreadable.</p>
<h4>Syntax:</h4>
<pre><code class="language-c line-numbers">identifier: //label
...
goto identifier; //execute jump to label</code></pre>

<p>You can jump backward or forward depending on label position. Notice if you have no other control flow statement and you jump backwards the control flow becomes repetitive and the program will never terminate.&nbsp;</p>
<p><b>Note:</b>&nbsp;To force program termination in console, you can use Ctrl+Z.</p>

<h2>Repetitive Statements</h2>

<div class="alert alert-secondary shadow-sm">
Work in progress. Follow me on Twitter for news.
</div>

<p class="well">A repetitive statement is a block of code or a statement that can be repeated several times to perform one or more tasks. We must control the number of repetitions otherwise the program will run forever. Therefore repetitive statement is sometimes called "loop".</p>
<p><b>There are 3 kind of repetitive statements in C:</b></p>
<ol>
<li>while: condition repetition</li>
<li>do: post-conditional repetition</li>
<li>for: value controlled repetition</li>
</ol>
<p>The difference between these loops is the way we control the number of iterations. Next I will present 3 examples. You must read the comments to understand better the syntax:</p>

<div class="alert alert-info"><b>Alternative:</b>&nbsp;There are other two ways to repeat execution of statements or blocks in C:</p>
<ol>
<li>Using GoTo statement</li>
<li>Using recursive functions</li>
</ol>
</div>

<h3>While Loop</h3>

<p>The while loop will be executed as long as control condition is true and will stop when the condition become false. Remember true = 1 and false = 0. So the condition can be a logical or a numeric expression. If the condition never = 0 then we create an infinite loop.</p>

<div align="center">
  <img src="../images/while.jpg" alt="loop" srcset="../images/while.svg" width="520" class="img-fluid protect rounded shadow border" >
  <p>Repetition Diagram</p>
</div>

<hr>

<h4>Example:</h4>

<pre><code class = "language-c line-numbers">#include &lt;stdio.h&gt;
int main()
{
    //control variable
    int i = 1;

    //start loop
    while (i &lt; 4)
    {
       i = i + 1;
    }
    //end loop
    printf("i = %d", i); // expected to print 4
    return 0;
}</code></pre>

<h3>Do..While Loop</h3>

<p>This loop will look very strange to you. I is designed very different than other C statements and somehow inconsistent. So pay attention to the example and read the comments below to grasp it.</p>

<div align="center">
  <img src="../images/do-while.svg" alt="do-while" width="460" class="img-fluid protect rounded shadow border" >
  <p>do-while diagram</p>
</div>

<hr>

<h4>Example:</h4>

<pre><code class="language-c line-numbers">#include &lt;stdio.h&gt;
int main () {
   // control variable
   int x = 1;
   // start loop
   do {
      x = x + 1;
   } while ( x &lt; 4 );
   // end loop
   printf("x = %d", x); // expect to print 4
   return 0;
}</code></pre>
<p>The condition is specified after the block. Therefore this iteration is executed at least once regardless of condition value, unlike the previous case where the condition is evaluated before the first iteration.</p>

<h3>For Loop</h3>

<p>For statement is controlled by a local variable x that belong to a specified discrete range of values. In next example first value is&nbsp; 5 and last value is 9. Value 10 is not printed.</p>
<pre><code class="language-c line-numbers">#include &lt;stdio.h&gt;
int main () {
   // start loop
   for(int x = 5; x &lt; 10; x = a + 1 ){
      printf("x= %d\n", x);
   }
   // end loop
   return 0;
}</code></pre>

<p><b>Note:</b>&nbsp;This repetitive statement is a convenient way to have all the control into one place for easy visualization. So the for loop does the same thing as while and do except that is more compact and readable. Variable "x" is local defined but it could be declared before the loop starts. In this case it will be available after the loop end like it is for "do" and "while".</p>

<h3>Altering the Loop</h3>

<p>It is possible to modify the normal workflow of any repetitive statement by using two keywords: <em>break</em> and <em>continue</em>. In the diagram below we depict the concept of <em>for loop alteration</em> but the same apply for previous tow loops: do &amp; while loops.</p>

<div align="center">
  <img src="../images/for-loop.jpg" alt="loop" srcset="../images/for-loop.svg" width="520" class="img-fluid protect rounded shadow border" >
  <p>For/Loop Repetition</p>
</div>

<h3>Early exit</h3>

<p>We ise <em>early exit</em> to terminate the repetition before normal ending. Usually the exit is trigger by an additional condition using statement:&nbsp;<em>break</em><em>.&nbsp;</em>. With this we "break" the normal cycle and force the loop to stop. The program will continue with next statement.</p>

<h4>Break:</h4>

<pre><code class="language-c line-numbers">#include &lt;stdio.h&gt;
int main () {
   int x = 1;
   while (x &lt; 10) {
      x++;
      if( x &gt; 5) {
         break; // early exit
      }
   }
   printf("x = %d",x); //expected 6
   return 0;
}</code></pre>

<h4>Shortcut:</h4>

<p>Sometimes it is useful to skip the rest of the block and start next iteration.
This operation do not terminate the loop but jump execution back to the beginning of the loop.
It can simplify the code. To make a shortcut you can use statement:&nbsp;<em>continue</em></p>

<pre><code class="language-c line-numbers">#include &lt;stdio.h&gt;
int main () {
   int x = 1;
   while (x &lt; 10) {
      x++;
      if( x &lt; 5) continue; // shortcut
   }
   printf("x = %d",x); //expected 10
   return 0;
}</code></pre>

<div class="alert alert-info">Observe the new operator "++" that was first used in B language. This operator is equivalent to: x = x +1. It is used as increment operator to improve performance and code readability. In modern languages this is called "syntax sugar" and is considered a good thing.&nbsp;</div>

<h4>Notes:</h4>
<ul>
<li>You can use break and continue with all 3 kind of loops,</li>
<li>You can define a loop nested inside another loop,</li>
<li>You can use&nbsp;<em>goto</em>&nbsp;statement to break or continue nested loops.</li>
</ul>

<h2 style="color:red">Caution!</h2>

<p>It is possible to declare a variable inside a loop. Then the variable is not available outside of the loop. However in my opinion this is bad practice. The variable declarations should stay outside of the loop. In the next example the result is going to be unexpected:</p>
<pre><code class="language-c line-numbers">#include &lt;stdio.h&gt;
int main()
{
    for (int i = 1; i&lt; 10; i++) {
        int j = 1;
        j++;
        printf("%d,",j);
    }
    return 0;
}</code></pre>

<p><b>Output:</b></p>
<pre><code class="language-output">2,2,2,2,2,2,2,2,2,</code></pre>
<p><b>Note:&nbsp;</b>If you declare the variable static inside the loop then the result will be correct but still a bad practice. There is no visible advantage to declare a variable inside a loop, so don&rsquo;t do this.</p>

<hr>

<p><b>Read next:</b>
<a href="input.html">Input &amp; Output</a></p>

<!-- Footer -->
<footer class="footer">
  <div class="footer-copyright text-center"></div>
</footer>


</div>


</body>
</html>