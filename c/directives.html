<!DOCTYPE html>
<html lang="en" data-bs-theme="dark"><head>
  <meta charset="utf-8">
  <meta name="description" content="Compiler directives in C programming language.">
  <meta name="author" content="Elucian Moise">
  <meta name="keywords" content="C, compiler, directive">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Website title -->
  <title>C Directive</title>  

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <!-- Icon -->
  <link rel="icon" type="image/png"  href="https://sagecode.net/images/favicon.ico">  
  <!-- Prism Highlighter -->
  <link rel="stylesheet" href="https://sagecode.net/prism.css">
  <script src="https://sagecode.net/prism.js"></script>
  <!-- custom css -->
  <link rel="stylesheet" href="https://sagecode.net/sage.css">
  </head>
<body>

<div class="container">
        
<!-- header -->
<header class="row">
    <div class="col">
        <a href="https://sagecode.net"><img src="https://sagecode.net/images/sage-logo.svg" alt="Sage-Code Laboratory" height="80"/></a>
    </div>  
    <div class="col  bottom-right">
        <a href="index.html#c-lang" rel="nofollow">index</a>&lt;--
    </div>
</header><hr>

<h1>C Compiler directives</h1>

<div class="alert alert-secondary shadow-sm">
Compilation process is divided in two parts. First part is reading and is reacting to compiler directives. These are special instructions that help the compiler to prepare the source code for compilation. All compiler directives start with symbol "#" followed by a reserved keyword.
</div>

<h2>Directive Keywords</h>

<table class="table table-striped table-bordered table-dark">
<tbody>
<tr>
<th>Directive</th>
<th>Description</th>
</tr>
<tr>
<td>#define</td>
<td>
<p>create a macro</p>
</td>
</tr>
<tr>
<td>#undef</td>
<td>
<p>remove a macro</p>
</td>
</tr>
<tr>
<td>#include</td>
<td>
<p>Inserts a header file</p>
</td>
</tr>
<tr>
<td>#ifdef</td>
<td>
<p>Check if a macro is defined</p>
</td>
</tr>
<tr>
<td>#ifndef</td>
<td>
<p>Check if a macro is not defined</p>
</td>
</tr>
<tr>
<td>#if</td>
<td>
<p>Check a compile time condition</p>
</td>
</tr>
<tr>
<td>#else</td>
<td>
<p>The alternative path for #if directive</p>
</td>
</tr>
<tr>
<td>#elif</td>
<td>
<p>Ladder directive, used with #if&nbsp;</p>
</td>
</tr>
<tr>
<td>#endif</td>
<td>
<p>Ends conditional directive</p>
</td>
</tr>
<tr>
<td>#error</td>
<td>
<p>Prints error message on stderr</p>
</td>
</tr>
<tr>
<td>#pragma</td>
<td>
<p>Special compiler directives</p>
</td>
</tr>
</tbody>
</table>

<h3>#Include</h3>
<p>C is a modular language. You can combine smaller files into a larger program using #include directive followed by the header file name. There are two kind of header files: System headers and project local headers.</p>
<pre><code class="language-c line-numbers">//system header
#include &lt;stdio.h&gt;
//local header
#include "my_file.h"</code></pre>
<p><b>The C 90 standard headers list:</b></p>
<div>
<table class="table table-striped table-bordered table-dark">
<tbody>
<tr>
<td>
<p>&lt;assert.h&gt;</p>
<p>&lt;ctype.h&gt;</p>
<p>&lt;errno.h&gt;</p>
<p>&lt;float.h&gt;</p>
<p>&lt;limits.h&gt;</p>
</td>
<td>
<p>&lt;locale.h&gt;</p>
<p>&lt;math.h&gt;</p>
<p>&lt;setjmp.h&gt;</p>
<p>&lt;signal.h&gt;</p>
<p>&lt;stdarg.h&gt;</p>
</td>
<td>
<p>&lt;stddef.h&gt;</p>
<p>&lt;stdio.h&gt;</p>
<p>&lt;stdlib.h&gt;</p>
<p>&lt;string.h&gt;</p>
<p>&lt;time.h&gt;</p>
</td>
</tr>
</tbody>
</table>
</div>
<p><b>Headers added since C 90:</b></p>
<div>
<table class="table table-striped table-bordered table-dark">
<tbody>
<tr>
<td>
<p>&lt;complex.h&gt;</p>
<p>&lt;fenv.h&gt;</p>
<p>&lt;inttypes.h&gt;</p>
</td>
<td>
<p>&lt;iso646.h&gt;</p>
<p>&lt;stdbool.h&gt;</p>
<p>&lt;stdint.h&gt;</p>
</td>
<td>
<p>&lt;tgmath.h&gt;</p>
<p>&lt;wchar.h&gt;</p>
<p>&lt;wctype.h&gt;</p>
</td>
</tr>
</tbody>
</table>
</div>
<p><b>Project header files:</b></p>
<p>You can create your own header files and store them with your program files. A good practice is to store in header files: constants, macros, system wide global variables, and function prototypes.</p>
<p><b>Note:&nbsp;</b>Function prototype is the function signature without its body. Functions can be implemented in other *.c source files that do not have same name as the header file.&nbsp;</p>

<h3>#define</h3>
<p><b>Constants:</b>&nbsp;Using #define you can create constants. These constants must use uppercase names.</p>
<pre><code class="language-c line-numbers">#include &lt;stdio.h&gt;
#define MY_MESSAGE "Hello!"
int main() {
    #ifdef MY_MESSAGE
    printf(MY_MESSAGE);
    #endif
    return 0;
} </code></pre>
<p><b>Macros:</b>&nbsp;Using #define you can create&nbsp;<em>macros.&nbsp;</em>These are expressions or reusable fragments of code:</p>
<pre><code class="language-c line-numbers">#include &lt;stdio.h&gt;
#define AVG(x,y) ((x + y)/2)
int main(void) {
    printf("AVG = %d\n", AVG(10, 20)); //integers
    printf("AVG = %lf\n", AVG(1, 1.5)); //float
    return 0;
}</code></pre>

<p><b>Note:&nbsp;</b>AVG in previous example looks like a function but is not. It is a "macro" so it uses uppercase letters for identifier. The real difference is that macros are converted into literal expressions before compilation. Since this is not a function call, macro parameters do not have types, they are text literals that are replaced in expressions before compilation.</p>
<p><b>Warning:</b>&nbsp;There is a danger that macro can produce unexpected results if is not enclosed in extra parentheses. It is a bad practice to overuse macros. It may decrease program readability and maintainability.</p>

<h3>#error</h3>
<p>This directive stop the compilation and display a message defined after #error:</p>
<pre><code class="language-c">#error message</code></pre>
<h3>#warning</h3>
<p>This directive do not stop the compilation but display a warning message:</p>
<pre><code class="language-c">#warning message</code></pre>
<h3>#if</h3>
<p>This is a conditional compiler directive. It uses a logical expression to make a decision block executed before compilation. The conditional expression can contain normal relation and logic operators in addition it can use operator&nbsp;<em>defined()</em>&nbsp;that take as argument a defined constant or macro.</p>

<pre><code class="language-c line-numbers">#include &lt;stdio.h&gt;
#define SUM(x,y) (x + y)
int main(void) {
    #if defined(SUM)
    printf("SUM = %d\n", SUM(10, 20));
    #endif;
    return 0;
}</code></pre>

<h3>Predefined macros</h3>
<p>ANSI C defines some useful macros and variables:</p>
<pre><code class="language-output">__FILE__ =&gt; The name of the current file, as a string literal
__LINE__ =&gt; Current line of the source file, as a numeric literal
__DATE__ =&gt; Current system date, as a string
__TIME__ =&gt; Current system time, as a string
</code></pre>

<p><b>Note:</b>&nbsp;Some compilers have special #pragma directives and other operators. For more details about processor directives you must consult the compiler specific documentation. These details are out of scope from my introductory tutorial.</p>

<hr>

<p><b>Read next:</b>
<a href="memory.html">Memory Management</a></p>

<!-- Footer -->
<footer class="footer">
  <div class="footer-copyright text-center"></div>
</footer>


</div>


</body>
</html>